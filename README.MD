# ğŸŒ Browser Rendering Playground

[![License: CC BY-NC 4.0](https://img.shields.io/badge/License-CC%20BY--NC%204.0-lightgrey.svg)](https://creativecommons.org/licenses/by-nc/4.0/)
[![Deploy](https://img.shields.io/badge/Demo-Vercel-black)](https://web-rendering-playground.vercel.app/)

> å¯è§†åŒ–æµè§ˆå™¨æ¸²æŸ“æµæ°´çº¿ï¼Œè®©æŠ½è±¡çš„æ¸²æŸ“åŸç†"çœ‹å¾—è§"

ğŸ”— **åœ¨çº¿ä½“éªŒ**: [https://web-rendering-playground.vercel.app/](https://web-rendering-playground.vercel.app/)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ”„ å®Œæ•´æ¸²æŸ“æµæ°´çº¿å¯è§†åŒ–

å±•ç¤ºæµè§ˆå™¨ä» HTML åˆ°é¡µé¢çš„ 8 ä¸ªæ ¸å¿ƒé˜¶æ®µï¼š

| é˜¶æ®µ | è¯´æ˜ |
|------|------|
| **Tokenize** | HTML è¯æ³•åˆ†æï¼Œé€å­—ç¬¦æ‰«æç”Ÿæˆ Token |
| **DOM Build** | è¯­æ³•åˆ†æï¼Œæ„å»º DOM æ ‘ |
| **CSS Parse** | è§£æ CSSï¼Œç”Ÿæˆ CSSOM |
| **Style Compute** | é€‰æ‹©å™¨åŒ¹é…ï¼Œè®¡ç®—æœ€ç»ˆæ ·å¼ |
| **Render Tree** | è¿‡æ»¤ä¸å¯è§èŠ‚ç‚¹ï¼Œç”Ÿæˆæ¸²æŸ“æ ‘ |
| **Layout** | è®¡ç®—ç›’æ¨¡å‹ï¼Œç¡®å®šä½ç½®å’Œå¤§å° |
| **Paint** | ç”Ÿæˆç»˜åˆ¶æŒ‡ä»¤ |
| **Composite** | åˆ†æåˆæˆå±‚ |

### ğŸ“– åŸç†è§£æé¢æ¿

æ¯ä¸€æ­¥éƒ½èƒ½å›ç­”"ä¸ºä»€ä¹ˆ"ï¼š
- ä¸ºä»€ä¹ˆ `display:none` ä¸è¿› Render Treeï¼Ÿ
- ä¸ºä»€ä¹ˆ `transform` åˆ›å»ºç‹¬ç«‹å›¾å±‚ï¼Ÿ
- ä¸ºä»€ä¹ˆæ”¹ `color` ä¸è§¦å‘å›æµï¼Ÿ

### ğŸ¯ é¢„ç½® Demo åœºæ™¯

5 ä¸ªé¢è¯•é«˜é¢‘é—®é¢˜ï¼Œä¸€é”®åŠ è½½ï¼š
- `display:none` vs `visibility:hidden`
- æ”¹ `color` vs æ”¹ `width`ï¼ˆå›æµ vs é‡ç»˜ï¼‰
- `position:absolute` è„±ç¦»æ–‡æ¡£æµ
- `transform` åˆæˆå±‚ä¼˜åŒ–
- `will-change` ä½¿ç”¨åœºæ™¯

### ğŸ”€ Diff å¯¹æ¯”æ¨¡å¼

åŒæ ·çš„ HTMLï¼Œä¸åŒçš„ CSSï¼Œå¯¹æ¯”æ¸²æŸ“å·®å¼‚ï¼š
- Render Tree èŠ‚ç‚¹æ•°å˜åŒ–
- Paint æŒ‡ä»¤æ•°å˜åŒ–
- åˆæˆå±‚æ•°é‡å˜åŒ–
- è‡ªåŠ¨ç”Ÿæˆåˆ†æç»“è®º

### â¯ï¸ æ—¶é—´è½´æ§åˆ¶

- â–¶ï¸ è‡ªåŠ¨æ’­æ”¾ Token è§£æè¿‡ç¨‹
- â®ï¸ â­ï¸ å•æ­¥å‰è¿›/åé€€
- ğŸšï¸ é€Ÿåº¦è°ƒèŠ‚
- æºç é«˜äº®åŒæ­¥

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Vue 3** + Composition API
- **TypeScript** - ç±»å‹å®‰å…¨
- **Pinia** - çŠ¶æ€ç®¡ç†
- **D3.js** - æ ‘å½¢å¯è§†åŒ–
- **UnoCSS** - åŸå­åŒ– CSS
- **Vite** - æ„å»ºå·¥å…·

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
src/
â”œâ”€â”€ engine/          # çº¯è®¡ç®—å¼•æ“ï¼ˆé›¶ UI ä¾èµ–ï¼‰
â”‚   â”œâ”€â”€ tokenizer.ts
â”‚   â”œâ”€â”€ dom-builder.ts
â”‚   â”œâ”€â”€ css-parser.ts
â”‚   â”œâ”€â”€ style-computer.ts
â”‚   â”œâ”€â”€ render-tree.ts
â”‚   â”œâ”€â”€ layout.ts
â”‚   â”œâ”€â”€ paint.ts
â”‚   â”œâ”€â”€ composite.ts
â”‚   â”œâ”€â”€ meta.ts      # Meta ä¿¡æ¯ç”Ÿæˆ
â”‚   â””â”€â”€ pipeline.ts  # ç»Ÿä¸€æµæ°´çº¿ API
â”œâ”€â”€ components/      # Vue ç»„ä»¶
â”œâ”€â”€ stores/          # Pinia çŠ¶æ€
â”œâ”€â”€ demos/           # é¢„ç½® Demo
â””â”€â”€ types/           # TypeScript ç±»å‹
```

Engine ä¸ UI å®Œå…¨è§£è€¦ï¼Œæ”¯æŒï¼š
- å•å…ƒæµ‹è¯•
- CLI ä½¿ç”¨
- JSON è¾“å‡º

## ğŸš€ æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build
```

## ğŸ“„ License

æœ¬é¡¹ç›®é‡‡ç”¨ [CC BY-NC 4.0](https://creativecommons.org/licenses/by-nc/4.0/) åè®®ã€‚

- âœ… å¯ä»¥è‡ªç”±åˆ†äº«ã€ä¿®æ”¹
- âœ… éœ€è¦æ³¨æ˜å‡ºå¤„
- âŒ **ç¦æ­¢å•†ä¸šç”¨é€”**
